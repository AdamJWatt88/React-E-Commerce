{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/adamwatt/Desktop/JavaScriptProjects/React-practice/e-commerce/src/components/ShoppingCartCard.js\";\nimport React, { createRef } from \"react\";\nimport { useRef, useMemo } from \"react\";\nimport { connect } from \"react-redux\"; // eslint-disable-next-line\n\nimport css from \"../css/shoppingCartCard.css\";\n\nconst ShoppingCartCard = ({\n  cartItems\n}) => {\n  //! this might be only creating one ref and attaching that same ref to all the cards. all those refs though only refer to the same element which is the last item in the nodeList of cards.\n  //? solution to this problem might be to create an array of refs and apply those refs to the array of cards being created\n  // const ref = useRef(null);\n  // const refs = useMemo(() => Array.from(cartItems).map(() => createRef()), []);\n  // this creates an array of refs and store them to an array for each item in cartItems\n  const refs = Array.from(cartItems, () => /*#__PURE__*/createRef(null)); // const ref = refs.filter((ref) => ref);\n\n  const onClick = e => {// return refs.forEach((ref, i) => {\n    //   console.log(ref.current);\n    // });\n    // console.log(refs[1].current);\n    // console.log(refs);\n  };\n\n  const handleClick = e => {\n    // console.log(ref.current.getAttribute(\"value\"));\n    if (refs === e.target.getAttribute(\"[data-key]\")) {\n      console.log(e.target);\n    }\n  };\n\n  const renderItems = () => {\n    return cartItems.map((cartItem, i) => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: handleClick,\n        ref: refs[i],\n        value: cartItem.id,\n        className: \"cart-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cart-card-img\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: cartItem.image,\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cart-card-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            children: cartItem.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"$\", cartItem.price]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Quantity: \", cartItem.quantity]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"button-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-primary\",\n              children: \"Update Quantity\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: onClick,\n              \"data-key\": [i],\n              className: \"btn btn-danger\",\n              children: \"Delete From Cart\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this)]\n      }, cartItem.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: renderItems()\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 10\n  }, this);\n};\n\n_c = ShoppingCartCard;\n\nconst mapStateToProps = state => {\n  return {\n    cartItems: state.cartItems\n  };\n};\n\nexport default connect(mapStateToProps)(ShoppingCartCard);\n\nvar _c;\n\n$RefreshReg$(_c, \"ShoppingCartCard\");","map":{"version":3,"sources":["/Users/adamwatt/Desktop/JavaScriptProjects/React-practice/e-commerce/src/components/ShoppingCartCard.js"],"names":["React","createRef","useRef","useMemo","connect","css","ShoppingCartCard","cartItems","refs","Array","from","onClick","e","handleClick","target","getAttribute","console","log","renderItems","map","cartItem","i","id","image","title","price","quantity","mapStateToProps","state"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,MAAT,EAAiBC,OAAjB,QAAgC,OAAhC;AACA,SAASC,OAAT,QAAwB,aAAxB,C,CAEA;;AACA,OAAOC,GAAP,MAAgB,6BAAhB;;AAEA,MAAMC,gBAAgB,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAmB;AAC1C;AACA;AACA;AAEA;AAEA;AACA,QAAMC,IAAI,GAAGC,KAAK,CAACC,IAAN,CAAWH,SAAX,EAAsB,mBAAMN,SAAS,CAAC,IAAD,CAArC,CAAb,CAR0C,CAU1C;;AAEA,QAAMU,OAAO,GAAIC,CAAD,IAAO,CACrB;AACA;AACA;AACA;AACA;AACD,GAND;;AAQA,QAAMC,WAAW,GAAID,CAAD,IAAO;AACzB;AACA,QAAIJ,IAAI,KAAKI,CAAC,CAACE,MAAF,CAASC,YAAT,CAAsB,YAAtB,CAAb,EAAkD;AAChDC,MAAAA,OAAO,CAACC,GAAR,CAAYL,CAAC,CAACE,MAAd;AACD;AACF,GALD;;AAOA,QAAMI,WAAW,GAAG,MAAM;AACxB,WAAOX,SAAS,CAACY,GAAV,CAAc,CAACC,QAAD,EAAWC,CAAX,KAAiB;AACpC,0BACE;AACE,QAAA,OAAO,EAAER,WADX;AAEE,QAAA,GAAG,EAAEL,IAAI,CAACa,CAAD,CAFX;AAIE,QAAA,KAAK,EAAED,QAAQ,CAACE,EAJlB;AAKE,QAAA,SAAS,EAAC,WALZ;AAAA,gCAME;AAAK,UAAA,SAAS,EAAC,eAAf;AAAA,iCACE;AAAK,YAAA,GAAG,EAAEF,QAAQ,CAACG,KAAnB;AAA0B,YAAA,GAAG,EAAC;AAA9B;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBANF,eASE;AAAK,UAAA,SAAS,EAAC,gBAAf;AAAA,kCACE;AAAA,sBAAKH,QAAQ,CAACI;AAAd;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAA,4BAAKJ,QAAQ,CAACK,KAAd;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFF,eAGE;AAAA,qCAAcL,QAAQ,CAACM,QAAvB;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHF,eAIE;AAAK,YAAA,SAAS,EAAC,cAAf;AAAA,oCACE;AAAQ,cAAA,SAAS,EAAC,iBAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE;AACE,cAAA,OAAO,EAAEf,OADX;AAEE,0BAAU,CAACU,CAAD,CAFZ;AAGE,cAAA,SAAS,EAAC,gBAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,gBATF;AAAA,SAGOD,QAAQ,CAACE,EAHhB;AAAA;AAAA;AAAA;AAAA,cADF;AA0BD,KA3BM,CAAP;AA4BD,GA7BD;;AA+BA,sBAAO;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA,cAA4BJ,WAAW;AAAvC;AAAA;AAAA;AAAA;AAAA,UAAP;AACD,CA3DD;;KAAMZ,gB;;AA6DN,MAAMqB,eAAe,GAAIC,KAAD,IAAW;AACjC,SAAO;AACLrB,IAAAA,SAAS,EAAEqB,KAAK,CAACrB;AADZ,GAAP;AAGD,CAJD;;AAMA,eAAeH,OAAO,CAACuB,eAAD,CAAP,CAAyBrB,gBAAzB,CAAf","sourcesContent":["import React, { createRef } from \"react\";\nimport { useRef, useMemo } from \"react\";\nimport { connect } from \"react-redux\";\n\n// eslint-disable-next-line\nimport css from \"../css/shoppingCartCard.css\";\n\nconst ShoppingCartCard = ({ cartItems }) => {\n  //! this might be only creating one ref and attaching that same ref to all the cards. all those refs though only refer to the same element which is the last item in the nodeList of cards.\n  //? solution to this problem might be to create an array of refs and apply those refs to the array of cards being created\n  // const ref = useRef(null);\n\n  // const refs = useMemo(() => Array.from(cartItems).map(() => createRef()), []);\n\n  // this creates an array of refs and store them to an array for each item in cartItems\n  const refs = Array.from(cartItems, () => createRef(null));\n\n  // const ref = refs.filter((ref) => ref);\n\n  const onClick = (e) => {\n    // return refs.forEach((ref, i) => {\n    //   console.log(ref.current);\n    // });\n    // console.log(refs[1].current);\n    // console.log(refs);\n  };\n\n  const handleClick = (e) => {\n    // console.log(ref.current.getAttribute(\"value\"));\n    if (refs === e.target.getAttribute(\"[data-key]\")) {\n      console.log(e.target);\n    }\n  };\n\n  const renderItems = () => {\n    return cartItems.map((cartItem, i) => {\n      return (\n        <div\n          onClick={handleClick}\n          ref={refs[i]}\n          key={cartItem.id}\n          value={cartItem.id}\n          className='cart-card'>\n          <div className='cart-card-img'>\n            <img src={cartItem.image} alt='' />\n          </div>\n          <div className='cart-card-body'>\n            <h5>{cartItem.title}</h5>\n            <p>${cartItem.price}</p>\n            <p>Quantity: {cartItem.quantity}</p>\n            <div className='button-group'>\n              <button className='btn btn-primary'>Update Quantity</button>\n              <button\n                onClick={onClick}\n                data-key={[i]}\n                className='btn btn-danger'>\n                Delete From Cart\n              </button>\n            </div>\n          </div>\n        </div>\n      );\n    });\n  };\n\n  return <div className='container'>{renderItems()}</div>;\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    cartItems: state.cartItems,\n  };\n};\n\nexport default connect(mapStateToProps)(ShoppingCartCard);\n"]},"metadata":{},"sourceType":"module"}