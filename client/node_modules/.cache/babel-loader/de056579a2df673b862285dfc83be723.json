{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/adamwatt/Desktop/JavaScriptProjects/React-practice/e-commerce/src/components/ShoppingCartCard.js\";\nimport React, { createRef, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { removeProductFromCart, updateQuantity } from \"../actions\"; // eslint-disable-next-line\n\nimport css from \"../css/shoppingCartCard.css\"; //Todo turn the onClick for the updateQuantity button into something that changes an element into an iput the user can interact with. Maybe do away with the button and the quantity display and add a select tag with quantitys as the options tags.\n\nconst ShoppingCartCard = props => {\n  const {\n    cartItems,\n    removeProductFromCart,\n    updateQuantity\n  } = props; // this creates an array of all the refs and stores them to an array for each item in cartItems\n\n  const refs = Array.from(cartItems, () => /*#__PURE__*/createRef(null)); // this handler loops through the refs and checks that they match the delete button's data-key and removes the item from the dom and cartItems\n\n  const deleteFromCart = e => {\n    refs.forEach(ref => {\n      if (ref.current.getAttribute(\"value\") === e.target.getAttribute(\"data-key\")) {\n        removeProductFromCart(ref.current.getAttribute(\"value\"));\n      }\n    });\n  };\n\n  const renderOptions = cartItemQuantity => {\n    const options = [];\n\n    for (let i = 1; i <= 20; i++) {\n      options.push( /*#__PURE__*/_jsxDEV(\"option\", {\n        value: i,\n        children: [\"Quantity: \", i]\n      }, [i], true, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 9\n      }, this));\n    }\n\n    return options;\n  };\n\n  const onChange = e => {\n    refs.forEach(ref => {\n      if (ref.current.getAttribute(\"value\") === e.target.getAttribute(\"data-key\")) {\n        console.log(e.target.value);\n        updateQuantity({\n          id: +ref.current.getAttribute(\"value\"),\n          quantity: +e.target.value\n        });\n      }\n    });\n  };\n\n  const renderItems = () => {\n    return cartItems.map((cartItem, i) => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: refs[i],\n        value: cartItem.id,\n        className: \"cart-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cart-card-img\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: cartItem.image,\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cart-card-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            children: cartItem.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"$\", cartItem.price]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            children: /*#__PURE__*/_jsxDEV(\"select\", {\n              onChange: e => onChange(e),\n              defaultValue: cartItem.quantity,\n              \"data-key\": cartItem.id,\n              name: \"Quantity\",\n              children: renderOptions(cartItem.quantity)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"button-group\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: deleteFromCart,\n              \"data-key\": cartItem.id,\n              className: \"btn btn-danger\",\n              children: \"Delete From Cart\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this)]\n      }, cartItem.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: renderItems()\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 10\n  }, this);\n};\n\n_c = ShoppingCartCard;\n\nconst mapStateToProps = state => {\n  return {\n    cartItems: state.cartItems\n  };\n};\n\nexport default connect(mapStateToProps, {\n  removeProductFromCart,\n  updateQuantity\n})(ShoppingCartCard);\n\nvar _c;\n\n$RefreshReg$(_c, \"ShoppingCartCard\");","map":{"version":3,"sources":["/Users/adamwatt/Desktop/JavaScriptProjects/React-practice/e-commerce/src/components/ShoppingCartCard.js"],"names":["React","createRef","useState","connect","removeProductFromCart","updateQuantity","css","ShoppingCartCard","props","cartItems","refs","Array","from","deleteFromCart","e","forEach","ref","current","getAttribute","target","renderOptions","cartItemQuantity","options","i","push","onChange","console","log","value","id","quantity","renderItems","map","cartItem","image","title","price","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React, { createRef, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { removeProductFromCart, updateQuantity } from \"../actions\";\n\n// eslint-disable-next-line\nimport css from \"../css/shoppingCartCard.css\";\n\n//Todo turn the onClick for the updateQuantity button into something that changes an element into an iput the user can interact with. Maybe do away with the button and the quantity display and add a select tag with quantitys as the options tags.\nconst ShoppingCartCard = (props) => {\n  const { cartItems, removeProductFromCart, updateQuantity } = props;\n\n  // this creates an array of all the refs and stores them to an array for each item in cartItems\n  const refs = Array.from(cartItems, () => createRef(null));\n\n  // this handler loops through the refs and checks that they match the delete button's data-key and removes the item from the dom and cartItems\n  const deleteFromCart = (e) => {\n    refs.forEach((ref) => {\n      if (\n        ref.current.getAttribute(\"value\") === e.target.getAttribute(\"data-key\")\n      ) {\n        removeProductFromCart(ref.current.getAttribute(\"value\"));\n      }\n    });\n  };\n\n  const renderOptions = (cartItemQuantity) => {\n    const options = [];\n\n    for (let i = 1; i <= 20; i++) {\n      options.push(\n        <option value={i} key={[i]}>\n          Quantity: {i}\n        </option>\n      );\n    }\n    return options;\n  };\n\n  const onChange = (e) => {\n    refs.forEach((ref) => {\n      if (\n        ref.current.getAttribute(\"value\") === e.target.getAttribute(\"data-key\")\n      ) {\n        console.log(e.target.value);\n        updateQuantity({\n          id: +ref.current.getAttribute(\"value\"),\n          quantity: +e.target.value,\n        });\n      }\n    });\n  };\n\n  const renderItems = () => {\n    return cartItems.map((cartItem, i) => {\n      return (\n        <div\n          ref={refs[i]}\n          key={cartItem.id}\n          value={cartItem.id}\n          className='cart-card'>\n          <div className='cart-card-img'>\n            <img src={cartItem.image} alt='' />\n          </div>\n          <div className='cart-card-body'>\n            <h5>{cartItem.title}</h5>\n            <p>${cartItem.price}</p>\n            <form>\n              <select\n                onChange={(e) => onChange(e)}\n                defaultValue={cartItem.quantity}\n                data-key={cartItem.id}\n                name='Quantity'>\n                {renderOptions(cartItem.quantity)}\n              </select>\n            </form>\n            <div className='button-group'>\n              <button\n                onClick={deleteFromCart}\n                data-key={cartItem.id}\n                className='btn btn-danger'>\n                Delete From Cart\n              </button>\n            </div>\n          </div>\n        </div>\n      );\n    });\n  };\n\n  return <div className='container'>{renderItems()}</div>;\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    cartItems: state.cartItems,\n  };\n};\n\nexport default connect(mapStateToProps, {\n  removeProductFromCart,\n  updateQuantity,\n})(ShoppingCartCard);\n"]},"metadata":{},"sourceType":"module"}