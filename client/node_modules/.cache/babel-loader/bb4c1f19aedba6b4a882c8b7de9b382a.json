{"ast":null,"code":"import _defineProperty from\"/Users/adamwatt/Desktop/JavaScriptProjects/React-practice/e-commerce/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/adamwatt/Desktop/JavaScriptProjects/React-practice/e-commerce/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/adamwatt/Desktop/JavaScriptProjects/React-practice/e-commerce/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useEffect,useState}from\"react\";import{connect}from\"react-redux\";import{clearErrors,registerUser,setAlert}from\"../../actions\";import Alert from\"../alert/Alert\";// eslint-disable-next-line\nimport css from\"../../css/signUp.css\";var SignUp=function SignUp(_ref){var registerUser=_ref.registerUser,authUser=_ref.authUser,alerts=_ref.alerts,setAlert=_ref.setAlert,history=_ref.history,clearErrors=_ref.clearErrors;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isMatch=_useState2[0],setIsMatch=_useState2[1];var _useState3=useState({name:\"\",email:\"\",password:\"\",password2:\"\"}),_useState4=_slicedToArray(_useState3,2),user=_useState4[0],setUser=_useState4[1];var name=user.name,email=user.email,password=user.password,password2=user.password2;var isAuthenticated=authUser.isAuthenticated,error=authUser.error;useEffect(function(){if(isAuthenticated){history.push(\"/\");}if(error===\"User already exists\"){setAlert(error,\"danger\");clearErrors();}else if(error===\"Please include email\"){setAlert(error,\"danger\");clearErrors();}//eslint-disable-next-line\n},[error,isAuthenticated,history]);var onChange=function onChange(e){setUser(_objectSpread(_objectSpread({},user),{},_defineProperty({},e.target.name,e.target.value)));};var onSubmit=function onSubmit(e){e.preventDefault();if(password!==password2){setIsMatch(true);setTimeout(function(){return setIsMatch(false);},3000);}else{registerUser(user);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"flex-center flex-dc\",children:[/*#__PURE__*/_jsx(Alert,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"sign-up__card\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"sign-up__font--white\",children:\"Create an account\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"sign-up__form flex-center flex-dc\",onSubmit:onSubmit,children:[/*#__PURE__*/_jsx(\"label\",{className:\"sign-up__label\",htmlFor:\"name\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{className:\"sign-up__input\",type:\"text\",name:\"name\",value:name,placeholder:\"Enter a username\",onChange:onChange,required:true}),/*#__PURE__*/_jsx(\"label\",{className:\"sign-up__label\",htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{className:\"sign-up__input\",type:\"email\",name:\"email\",value:email,placeholder:\"Enter an email\",onChange:onChange,required:true}),/*#__PURE__*/_jsx(\"label\",{className:\"sign-up__label\",htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{className:\"sign-up__input\",type:\"password\",name:\"password\",value:password,placeholder:\"Enter a password\",onChange:onChange,required:true,minLength:\"6\"}),/*#__PURE__*/_jsx(\"label\",{className:\"sign-up__label\",htmlFor:\"password2\",children:\"Confirm Password\"}),/*#__PURE__*/_jsx(\"input\",{className:\"sign-up__input\",type:\"password\",name:\"password2\",value:password2,placeholder:\"Confirm password\",onChange:onChange,required:true,minLength:\"6\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"sign-up__button-group\",children:[/*#__PURE__*/_jsx(\"p\",{className:!isMatch?\"sign-up__password\":\"sign-up__password-match\",children:\"Passwords must match\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn--secondary\",children:\"Submit\"})]})]})]})]});};var mapStateToProps=function mapStateToProps(state){return{authUser:state.authUser,alerts:state.alerts};};export default connect(mapStateToProps,{registerUser:registerUser,setAlert:setAlert,clearErrors:clearErrors})(SignUp);","map":{"version":3,"sources":["/Users/adamwatt/Desktop/JavaScriptProjects/React-practice/e-commerce/client/src/components/navbar/SignUp.js"],"names":["React","useEffect","useState","connect","clearErrors","registerUser","setAlert","Alert","css","SignUp","authUser","alerts","history","isMatch","setIsMatch","name","email","password","password2","user","setUser","isAuthenticated","error","push","onChange","e","target","value","onSubmit","preventDefault","setTimeout","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { clearErrors, registerUser, setAlert } from \"../../actions\";\nimport Alert from \"../alert/Alert\";\n\n// eslint-disable-next-line\nimport css from \"../../css/signUp.css\";\n\nconst SignUp = ({\n  registerUser,\n  authUser,\n  alerts,\n  setAlert,\n  history,\n  clearErrors,\n}) => {\n  const [isMatch, setIsMatch] = useState(false);\n\n  const [user, setUser] = useState({\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    password2: \"\",\n  });\n\n  const { name, email, password, password2 } = user;\n  const { isAuthenticated, error } = authUser;\n\n  useEffect(() => {\n    if (isAuthenticated) {\n      history.push(\"/\");\n    }\n\n    if (error === \"User already exists\") {\n      setAlert(error, \"danger\");\n      clearErrors();\n    } else if (error === \"Please include email\") {\n      setAlert(error, \"danger\");\n      clearErrors();\n    }\n    //eslint-disable-next-line\n  }, [error, isAuthenticated, history]);\n\n  const onChange = (e) => {\n    setUser({ ...user, [e.target.name]: e.target.value });\n  };\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n    if (password !== password2) {\n      setIsMatch(true);\n      setTimeout(() => setIsMatch(false), 3000);\n    } else {\n      registerUser(user);\n    }\n  };\n\n  return (\n    <div className='flex-center flex-dc'>\n      <Alert />\n      <div className='sign-up__card'>\n        <p className='sign-up__font--white'>Create an account</p>\n        <form className='sign-up__form flex-center flex-dc' onSubmit={onSubmit}>\n          <label className='sign-up__label' htmlFor='name'>\n            Username\n          </label>\n          <input\n            className='sign-up__input'\n            type='text'\n            name='name'\n            value={name}\n            placeholder='Enter a username'\n            onChange={onChange}\n            required\n          />\n          <label className='sign-up__label' htmlFor='email'>\n            Email\n          </label>\n          <input\n            className='sign-up__input'\n            type='email'\n            name='email'\n            value={email}\n            placeholder='Enter an email'\n            onChange={onChange}\n            required\n          />\n          <label className='sign-up__label' htmlFor='password'>\n            Password\n          </label>\n          <input\n            className='sign-up__input'\n            type='password'\n            name='password'\n            value={password}\n            placeholder='Enter a password'\n            onChange={onChange}\n            required\n            minLength='6'\n          />\n          <label className='sign-up__label' htmlFor='password2'>\n            Confirm Password\n          </label>\n          <input\n            className='sign-up__input'\n            type='password'\n            name='password2'\n            value={password2}\n            placeholder='Confirm password'\n            onChange={onChange}\n            required\n            minLength='6'\n          />\n          <div className='sign-up__button-group'>\n            <p\n              className={\n                !isMatch ? \"sign-up__password\" : \"sign-up__password-match\"\n              }>\n              Passwords must match\n            </p>\n            <button type='submit' className='btn btn--secondary'>\n              Submit\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    authUser: state.authUser,\n    alerts: state.alerts,\n  };\n};\n\nexport default connect(mapStateToProps, {\n  registerUser,\n  setAlert,\n  clearErrors,\n})(SignUp);\n"]},"metadata":{},"sourceType":"module"}