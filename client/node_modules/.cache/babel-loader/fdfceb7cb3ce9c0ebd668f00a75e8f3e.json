{"ast":null,"code":"import _objectSpread from\"/Users/adamwatt/Desktop/JavaScriptProjects/React-practice/e-commerce/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/adamwatt/Desktop/JavaScriptProjects/React-practice/e-commerce/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{Fragment,useEffect,useState}from\"react\";import{connect}from\"react-redux\";import{getSingleProduct,addProductToCart,isItemInCart}from\"../actions\";import Loading from\"./Loading\";// eslint-disable-next-line\nimport css from\"../css/product.css\";var Product=function Product(props){var singleProduct=props.singleProduct,cart=props.cart;var id=props.match.params.id;var _useState=useState(1),_useState2=_slicedToArray(_useState,2),number=_useState2[0],setNumber=_useState2[1];useEffect(function(){props.getSingleProduct(id);// eslint-disable-next-line\n},[]);if(!singleProduct){return/*#__PURE__*/_jsx(Loading,{});}var addToCart=function addToCart(e){e.preventDefault();var checkCart=function checkCart(element){return element.id===singleProduct.id;};cart.some(checkCart)?props.isItemInCart():props.addProductToCart(_objectSpread(_objectSpread({},singleProduct),{},{quantity:number}));};var onChange=function onChange(e){setNumber(+e.target.value);};var increaseValue=function increaseValue(){setNumber(number+1);};var decreaseValue=function decreaseValue(){if(number===0){setNumber(0);}else{setNumber(number-1);}};var renderProduct=function renderProduct(){var image=singleProduct.image,title=singleProduct.title,price=singleProduct.price,description=singleProduct.description;return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"product-card\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"product-card__img\",src:image,alt:image}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-card__body mb-1\",children:[/*#__PURE__*/_jsx(\"h5\",{children:title}),/*#__PURE__*/_jsx(\"p\",{children:description})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-card__btn-group\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Price \",/*#__PURE__*/_jsxs(\"strong\",{children:[\"$\",price]})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:addToCart,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"quantity-selector mr-1 mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(){return increaseValue();},className:\"quantity-selector__increment quantity-selector__increment-increase no-select\",children:\"+\"}),/*#__PURE__*/_jsx(\"input\",{name:\"product\",min:\"1\",type:\"number\",className:\"quantity-selector__input\",onChange:onChange,value:number}),/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(){return decreaseValue();},className:\"quantity-selector__increment quantity-selector__increment-decrease no-select\",children:\"-\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn--secondary mr-1 mb-1\",children:\"Add to cart\"})]})]})]})});};return/*#__PURE__*/_jsx(\"div\",{className:\"product-container\",children:renderProduct()});};var mapStateToProps=function mapStateToProps(state){return{singleProduct:state.singleProduct,cart:state.cartItems.cart};};export default connect(mapStateToProps,{getSingleProduct:getSingleProduct,addProductToCart:addProductToCart,isItemInCart:isItemInCart})(Product);","map":{"version":3,"sources":["/Users/adamwatt/Desktop/JavaScriptProjects/React-practice/e-commerce/client/src/components/Product.js"],"names":["React","Fragment","useEffect","useState","connect","getSingleProduct","addProductToCart","isItemInCart","Loading","css","Product","props","singleProduct","cart","id","match","params","number","setNumber","addToCart","e","preventDefault","checkCart","element","some","quantity","onChange","target","value","increaseValue","decreaseValue","renderProduct","image","title","price","description","mapStateToProps","state","cartItems"],"mappings":"2dAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,CAAqCC,QAArC,KAAqD,OAArD,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,gBAAT,CAA2BC,gBAA3B,CAA6CC,YAA7C,KAAiE,YAAjE,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CAEA;AACA,MAAOC,CAAAA,GAAP,KAAgB,oBAAhB,CAEA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,KAAD,CAAW,IACjBC,CAAAA,aADiB,CACOD,KADP,CACjBC,aADiB,CACFC,IADE,CACOF,KADP,CACFE,IADE,IAEjBC,CAAAA,EAFiB,CAEVH,KAAK,CAACI,KAAN,CAAYC,MAFF,CAEjBF,EAFiB,eAIGX,QAAQ,CAAC,CAAD,CAJX,wCAIlBc,MAJkB,eAIVC,SAJU,eAMzBhB,SAAS,CAAC,UAAM,CACdS,KAAK,CAACN,gBAAN,CAAuBS,EAAvB,EACA;AACD,CAHQ,CAGN,EAHM,CAAT,CAKA,GAAI,CAACF,aAAL,CAAoB,CAClB,mBAAO,KAAC,OAAD,IAAP,CACD,CAED,GAAMO,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,CAAD,CAAO,CACvBA,CAAC,CAACC,cAAF,GAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,OAAD,QAAaA,CAAAA,OAAO,CAACT,EAAR,GAAeF,aAAa,CAACE,EAA1C,EAAlB,CAEAD,IAAI,CAACW,IAAL,CAAUF,SAAV,EACIX,KAAK,CAACJ,YAAN,EADJ,CAEII,KAAK,CAACL,gBAAN,gCAA4BM,aAA5B,MAA2Ca,QAAQ,CAAER,MAArD,GAFJ,CAGD,CARD,CAUA,GAAMS,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACN,CAAD,CAAO,CACtBF,SAAS,CAAC,CAACE,CAAC,CAACO,MAAF,CAASC,KAAX,CAAT,CACD,CAFD,CAIA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CAC1BX,SAAS,CAACD,MAAM,CAAG,CAAV,CAAT,CACD,CAFD,CAIA,GAAMa,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CAC1B,GAAIb,MAAM,GAAK,CAAf,CAAkB,CAChBC,SAAS,CAAC,CAAD,CAAT,CACD,CAFD,IAEO,CACLA,SAAS,CAACD,MAAM,CAAG,CAAV,CAAT,CACD,CACF,CAND,CAQA,GAAMc,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,IAClBC,CAAAA,KADkB,CACmBpB,aADnB,CAClBoB,KADkB,CACXC,KADW,CACmBrB,aADnB,CACXqB,KADW,CACJC,KADI,CACmBtB,aADnB,CACJsB,KADI,CACGC,WADH,CACmBvB,aADnB,CACGuB,WADH,CAG1B,mBACE,KAAC,QAAD,wBACE,aAAK,SAAS,CAAC,cAAf,wBACE,YAAK,SAAS,CAAC,mBAAf,CAAmC,GAAG,CAAEH,KAAxC,CAA+C,GAAG,CAAEA,KAApD,EADF,cAEE,aAAK,SAAS,CAAC,yBAAf,wBACE,oBAAKC,KAAL,EADF,cAEE,mBAAIE,WAAJ,EAFF,GAFF,cAME,aAAK,SAAS,CAAC,yBAAf,wBACE,2CACQ,8BAAUD,KAAV,GADR,GADF,cAIE,cAAM,QAAQ,CAAEf,SAAhB,wBACE,aAAK,SAAS,CAAC,6BAAf,wBACE,aACE,OAAO,CAAE,yBAAMU,CAAAA,aAAa,EAAnB,EADX,CAEE,SAAS,CAAC,8EAFZ,eADF,cAOE,cACE,IAAI,CAAC,SADP,CAEE,GAAG,CAAC,GAFN,CAGE,IAAI,CAAC,QAHP,CAIE,SAAS,CAAC,0BAJZ,CAKE,QAAQ,CAAEH,QALZ,CAME,KAAK,CAAET,MANT,EAPF,cAeE,aACE,OAAO,CAAE,yBAAMa,CAAAA,aAAa,EAAnB,EADX,CAEE,SAAS,CAAC,8EAFZ,eAfF,GADF,cAuBE,eAAQ,SAAS,CAAC,8BAAlB,yBAvBF,GAJF,GANF,GADF,EADF,CA2CD,CA9CD,CAgDA,mBAAO,YAAK,SAAS,CAAC,mBAAf,UAAoCC,aAAa,EAAjD,EAAP,CACD,CA1FD,CA4FA,GAAMK,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,KAAD,CAAW,CACjC,MAAO,CACLzB,aAAa,CAAEyB,KAAK,CAACzB,aADhB,CAELC,IAAI,CAAEwB,KAAK,CAACC,SAAN,CAAgBzB,IAFjB,CAAP,CAID,CALD,CAOA,cAAeT,CAAAA,OAAO,CAACgC,eAAD,CAAkB,CACtC/B,gBAAgB,CAAhBA,gBADsC,CAEtCC,gBAAgB,CAAhBA,gBAFsC,CAGtCC,YAAY,CAAZA,YAHsC,CAAlB,CAAP,CAIZG,OAJY,CAAf","sourcesContent":["import React, { Fragment, useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { getSingleProduct, addProductToCart, isItemInCart } from \"../actions\";\nimport Loading from \"./Loading\";\n\n// eslint-disable-next-line\nimport css from \"../css/product.css\";\n\nconst Product = (props) => {\n  const { singleProduct, cart } = props;\n  const { id } = props.match.params;\n\n  const [number, setNumber] = useState(1);\n\n  useEffect(() => {\n    props.getSingleProduct(id);\n    // eslint-disable-next-line\n  }, []);\n\n  if (!singleProduct) {\n    return <Loading />;\n  }\n\n  const addToCart = (e) => {\n    e.preventDefault();\n\n    const checkCart = (element) => element.id === singleProduct.id;\n\n    cart.some(checkCart)\n      ? props.isItemInCart()\n      : props.addProductToCart({ ...singleProduct, quantity: number });\n  };\n\n  const onChange = (e) => {\n    setNumber(+e.target.value);\n  };\n\n  const increaseValue = () => {\n    setNumber(number + 1);\n  };\n\n  const decreaseValue = () => {\n    if (number === 0) {\n      setNumber(0);\n    } else {\n      setNumber(number - 1);\n    }\n  };\n\n  const renderProduct = () => {\n    const { image, title, price, description } = singleProduct;\n\n    return (\n      <Fragment>\n        <div className='product-card'>\n          <img className='product-card__img' src={image} alt={image} />\n          <div className='product-card__body mb-1'>\n            <h5>{title}</h5>\n            <p>{description}</p>\n          </div>\n          <div className='product-card__btn-group'>\n            <p>\n              Price <strong>${price}</strong>\n            </p>\n            <form onSubmit={addToCart}>\n              <div className='quantity-selector mr-1 mb-1'>\n                <span\n                  onClick={() => increaseValue()}\n                  className='quantity-selector__increment\n              quantity-selector__increment-increase no-select'>\n                  +\n                </span>\n                <input\n                  name='product'\n                  min='1'\n                  type='number'\n                  className='quantity-selector__input'\n                  onChange={onChange}\n                  value={number}\n                />\n                <span\n                  onClick={() => decreaseValue()}\n                  className='quantity-selector__increment quantity-selector__increment-decrease no-select'>\n                  -\n                </span>\n              </div>\n\n              <button className='btn btn--secondary mr-1 mb-1'>\n                Add to cart\n              </button>\n            </form>\n          </div>\n        </div>\n      </Fragment>\n    );\n  };\n\n  return <div className='product-container'>{renderProduct()}</div>;\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    singleProduct: state.singleProduct,\n    cart: state.cartItems.cart,\n  };\n};\n\nexport default connect(mapStateToProps, {\n  getSingleProduct,\n  addProductToCart,\n  isItemInCart,\n})(Product);\n"]},"metadata":{},"sourceType":"module"}