{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/adamwatt/Desktop/JavaScriptProjects/React-practice/e-commerce/src/components/ShoppingCartCard.js\",\n    _s = $RefreshSig$();\n\nimport React, { createRef, useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { removeProductFromCart, updateQuantity } from \"../actions\"; // eslint-disable-next-line\n\nimport css from \"../css/shoppingCartCard.css\"; //Todo turn the onClick for the updateQuantity button into something that changes an element into an iput the user can interact with. Maybe do away with the button and the quantity display and add a select tag with quantitys as the options tags.\n\nconst ShoppingCartCard = ({\n  cartItems,\n  removeProductFromCart,\n  updateQuantity\n}) => {\n  _s();\n\n  const [quantity, setQuantity] = useState();\n  const [input, setInput] = useState(false); //! need to get a value from some user input into the setQuantity here\n\n  useEffect(() => {\n    setQuantity(3);\n  }, [quantity]); // this creates an array of all the refs and stores them to an array for each item in cartItems\n\n  const refs = Array.from(cartItems, () => /*#__PURE__*/createRef(null)); // this handler loops through the refs and checks that they match the delete button's data-key and removes the item from the dom and cartItems\n\n  const deleteFromCart = e => {\n    refs.forEach(ref => {\n      if (ref.current.getAttribute(\"value\") === e.target.getAttribute(\"data-key\")) {\n        removeProductFromCart(ref.current.getAttribute(\"value\"));\n      }\n    });\n  }; //! needs to update quantity after a user gives some input\n  //* have it wired up to update the quantity using component level state under a useEffect update\n  //? commented out to work on updating this to change the p element to an input field\n  // const updateCart = (e) => {\n  //   refs.forEach((ref) => {\n  //     if (\n  //       ref.current.getAttribute(\"value\") === e.target.getAttribute(\"data-key\")\n  //     ) {\n  //       updateQuantity({\n  //         id: +ref.current.getAttribute(\"value\"),\n  //         quantity: quantity,\n  //       });\n  //     }\n  //   });\n  // };\n  //? this is copied to work on making the p element into input field\n\n\n  const updateCart = () => {\n    setInput(!input);\n  }; // write a function that return some JSX that displays a p element or an input element\n\n\n  const renderInput = () => {};\n\n  const renderItems = () => {\n    return cartItems.map((cartItem, i) => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: refs[i],\n        value: cartItem.id,\n        className: \"cart-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cart-card-img\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: cartItem.image,\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cart-card-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            children: cartItem.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"$\", cartItem.price]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this), input ? /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Quantity: \", cartItem.quantity]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"button-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: updateCart,\n              \"data-key\": cartItem.id,\n              className: \"btn btn-primary\",\n              children: \"Update Quantity\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: deleteFromCart,\n              \"data-key\": cartItem.id,\n              className: \"btn btn-danger\",\n              children: \"Delete From Cart\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this)]\n      }, cartItem.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: renderItems()\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 99,\n    columnNumber: 10\n  }, this);\n};\n\n_s(ShoppingCartCard, \"YhoVVv2h30H4+LwLXJo8b/BVr+I=\");\n\n_c = ShoppingCartCard;\n\nconst mapStateToProps = state => {\n  return {\n    cartItems: state.cartItems\n  };\n};\n\nexport default connect(mapStateToProps, {\n  removeProductFromCart,\n  updateQuantity\n})(ShoppingCartCard);\n\nvar _c;\n\n$RefreshReg$(_c, \"ShoppingCartCard\");","map":{"version":3,"sources":["/Users/adamwatt/Desktop/JavaScriptProjects/React-practice/e-commerce/src/components/ShoppingCartCard.js"],"names":["React","createRef","useState","useEffect","connect","removeProductFromCart","updateQuantity","css","ShoppingCartCard","cartItems","quantity","setQuantity","input","setInput","refs","Array","from","deleteFromCart","e","forEach","ref","current","getAttribute","target","updateCart","renderInput","renderItems","map","cartItem","i","id","image","title","price","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React, { createRef, useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { removeProductFromCart, updateQuantity } from \"../actions\";\n\n// eslint-disable-next-line\nimport css from \"../css/shoppingCartCard.css\";\n\n//Todo turn the onClick for the updateQuantity button into something that changes an element into an iput the user can interact with. Maybe do away with the button and the quantity display and add a select tag with quantitys as the options tags.\nconst ShoppingCartCard = ({\n  cartItems,\n  removeProductFromCart,\n  updateQuantity,\n}) => {\n  const [quantity, setQuantity] = useState();\n  const [input, setInput] = useState(false);\n  //! need to get a value from some user input into the setQuantity here\n  useEffect(() => {\n    setQuantity(3);\n  }, [quantity]);\n\n  // this creates an array of all the refs and stores them to an array for each item in cartItems\n  const refs = Array.from(cartItems, () => createRef(null));\n\n  // this handler loops through the refs and checks that they match the delete button's data-key and removes the item from the dom and cartItems\n  const deleteFromCart = (e) => {\n    refs.forEach((ref) => {\n      if (\n        ref.current.getAttribute(\"value\") === e.target.getAttribute(\"data-key\")\n      ) {\n        removeProductFromCart(ref.current.getAttribute(\"value\"));\n      }\n    });\n  };\n\n  //! needs to update quantity after a user gives some input\n  //* have it wired up to update the quantity using component level state under a useEffect update\n  //? commented out to work on updating this to change the p element to an input field\n  // const updateCart = (e) => {\n  //   refs.forEach((ref) => {\n  //     if (\n  //       ref.current.getAttribute(\"value\") === e.target.getAttribute(\"data-key\")\n  //     ) {\n  //       updateQuantity({\n  //         id: +ref.current.getAttribute(\"value\"),\n  //         quantity: quantity,\n  //       });\n  //     }\n  //   });\n  // };\n\n  //? this is copied to work on making the p element into input field\n  const updateCart = () => {\n    setInput(!input);\n  };\n\n  // write a function that return some JSX that displays a p element or an input element\n  const renderInput = () => {};\n\n  const renderItems = () => {\n    return cartItems.map((cartItem, i) => {\n      return (\n        <div\n          ref={refs[i]}\n          key={cartItem.id}\n          value={cartItem.id}\n          className='cart-card'>\n          <div className='cart-card-img'>\n            <img src={cartItem.image} alt='' />\n          </div>\n          <div className='cart-card-body'>\n            <h5>{cartItem.title}</h5>\n            <p>${cartItem.price}</p>\n            {/* //! turn this p tag either into an input tag for the user to give their quantity or change it to a select tag */}\n            {input ? (\n              <input type='number' />\n            ) : (\n              <p>Quantity: {cartItem.quantity}</p>\n            )}\n            <div className='button-group'>\n              <button\n                onClick={updateCart}\n                data-key={cartItem.id}\n                className='btn btn-primary'>\n                Update Quantity\n              </button>\n              <button\n                onClick={deleteFromCart}\n                data-key={cartItem.id}\n                className='btn btn-danger'>\n                Delete From Cart\n              </button>\n            </div>\n          </div>\n        </div>\n      );\n    });\n  };\n\n  return <div className='container'>{renderItems()}</div>;\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    cartItems: state.cartItems,\n  };\n};\n\nexport default connect(mapStateToProps, {\n  removeProductFromCart,\n  updateQuantity,\n})(ShoppingCartCard);\n"]},"metadata":{},"sourceType":"module"}