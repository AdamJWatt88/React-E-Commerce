{"ast":null,"code":"import axios from \"axios\";\nimport { FETCH_SINGLE_PRODUCT, FETCH_PRODUCTS, FETCH_CATEGORY, SET_SLIDE_MENU, CATEGORY_SELECTIONS, CLEAR_PRODUCT, ADD_CART_ITEM, REMOVE_CART_ITEM, CART_ITEM_CHECK, UPDATE_QUANTITY, REGISTER_SUCCESS, REGISTER_FAIL } from \"../types\"; //open and close the slideMenu if true or false\n\nexport const showSlideMenu = () => {\n  return {\n    type: SET_SLIDE_MENU\n  };\n}; //get all products\n\nexport const getProducts = categories => {\n  return async dispatch => {\n    const response = await fetch(\"https://fakestoreapi.com/products\");\n    const data = await response.json();\n    dispatch({\n      type: FETCH_PRODUCTS,\n      payload: data\n    });\n    dispatch({\n      type: CLEAR_PRODUCT\n    });\n  };\n}; // fetch products by category\n\nexport const getCategory = category => {\n  return async dispatch => {\n    const response = await fetch(`https://fakestoreapi.com/products/category/${category}`);\n    const data = await response.json();\n    dispatch({\n      type: FETCH_CATEGORY,\n      payload: data\n    });\n  };\n}; // fetch a single product by its id\n\nexport const getSingleProduct = id => {\n  return async dispatch => {\n    const response = await fetch(`https://fakestoreapi.com/products/${id}`);\n    const data = await response.json();\n    dispatch({\n      type: FETCH_SINGLE_PRODUCT,\n      payload: data\n    });\n  };\n}; //map over the formProps obejct being passed in here and take every category value then assign an array made of those values to payload value\n\nexport const categorySelection = formProps => {\n  // only add formProps value to the array if not null. if a value is null then remove it\n  const formValues = Object.values(formProps).filter(item => item !== null);\n  return {\n    type: CATEGORY_SELECTIONS,\n    payload: formValues\n  };\n}; //adds a product to the cartItems state\n\nexport const addProductToCart = cartItem => {\n  return {\n    type: ADD_CART_ITEM,\n    payload: cartItem\n  };\n}; //remove a product from the cartItems state\n\nexport const removeProductFromCart = cartItem => {\n  return {\n    type: REMOVE_CART_ITEM,\n    payload: +cartItem\n  };\n};\nexport const updateQuantity = ({\n  id,\n  quantity\n}) => {\n  return {\n    type: UPDATE_QUANTITY,\n    payload: {\n      id,\n      quantity\n    }\n  };\n}; //checks if an item is already inside the cartItems state by matching the id\n\nexport const isItemInCart = () => {\n  alert(\"That item is already in cart\");\n  return {\n    type: CART_ITEM_CHECK\n  };\n}; // Todo: this action needs to make a request to the back end on the route api/user and the payload then needs to be the res.data from that request\n\nexport const registerUser = async user => {\n  const config = {\n    header: {\n      \"Content-Type\": \"application/json\"\n    }\n  };\n\n  try {\n    const res = await axios.post(\"/api/user\", user, config);\n    dispatch({\n      type: REGISTER_SUCCESS,\n      payload: res.data\n    });\n  } catch (err) {\n    dispatch({\n      type: REGISTER_FAIL,\n      payload: err.response.data.msg\n    });\n  }\n\n  return {\n    type: REGISTER_SUCCESS,\n    payload: user\n  };\n};","map":{"version":3,"sources":["/Users/adamwatt/Desktop/JavaScriptProjects/React-practice/e-commerce/client/src/actions/index.js"],"names":["axios","FETCH_SINGLE_PRODUCT","FETCH_PRODUCTS","FETCH_CATEGORY","SET_SLIDE_MENU","CATEGORY_SELECTIONS","CLEAR_PRODUCT","ADD_CART_ITEM","REMOVE_CART_ITEM","CART_ITEM_CHECK","UPDATE_QUANTITY","REGISTER_SUCCESS","REGISTER_FAIL","showSlideMenu","type","getProducts","categories","dispatch","response","fetch","data","json","payload","getCategory","category","getSingleProduct","id","categorySelection","formProps","formValues","Object","values","filter","item","addProductToCart","cartItem","removeProductFromCart","updateQuantity","quantity","isItemInCart","alert","registerUser","user","config","header","res","post","err","msg"],"mappings":"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","sourcesContent":["import axios from \"axios\";\n\nimport {\n  FETCH_SINGLE_PRODUCT,\n  FETCH_PRODUCTS,\n  FETCH_CATEGORY,\n  SET_SLIDE_MENU,\n  CATEGORY_SELECTIONS,\n  CLEAR_PRODUCT,\n  ADD_CART_ITEM,\n  REMOVE_CART_ITEM,\n  CART_ITEM_CHECK,\n  UPDATE_QUANTITY,\n  REGISTER_SUCCESS,\n  REGISTER_FAIL,\n} from \"../types\";\n\n//open and close the slideMenu if true or false\nexport const showSlideMenu = () => {\n  return {\n    type: SET_SLIDE_MENU,\n  };\n};\n\n//get all products\nexport const getProducts = (categories) => {\n  return async (dispatch) => {\n    const response = await fetch(\"https://fakestoreapi.com/products\");\n\n    const data = await response.json();\n\n    dispatch({\n      type: FETCH_PRODUCTS,\n      payload: data,\n    });\n    dispatch({\n      type: CLEAR_PRODUCT,\n    });\n  };\n};\n\n// fetch products by category\nexport const getCategory = (category) => {\n  return async (dispatch) => {\n    const response = await fetch(\n      `https://fakestoreapi.com/products/category/${category}`\n    );\n    const data = await response.json();\n\n    dispatch({\n      type: FETCH_CATEGORY,\n      payload: data,\n    });\n  };\n};\n\n// fetch a single product by its id\nexport const getSingleProduct = (id) => {\n  return async (dispatch) => {\n    const response = await fetch(`https://fakestoreapi.com/products/${id}`);\n    const data = await response.json();\n\n    dispatch({\n      type: FETCH_SINGLE_PRODUCT,\n      payload: data,\n    });\n  };\n};\n\n//map over the formProps obejct being passed in here and take every category value then assign an array made of those values to payload value\nexport const categorySelection = (formProps) => {\n  // only add formProps value to the array if not null. if a value is null then remove it\n  const formValues = Object.values(formProps).filter((item) => item !== null);\n\n  return {\n    type: CATEGORY_SELECTIONS,\n    payload: formValues,\n  };\n};\n\n//adds a product to the cartItems state\nexport const addProductToCart = (cartItem) => {\n  return {\n    type: ADD_CART_ITEM,\n    payload: cartItem,\n  };\n};\n\n//remove a product from the cartItems state\nexport const removeProductFromCart = (cartItem) => {\n  return {\n    type: REMOVE_CART_ITEM,\n    payload: +cartItem,\n  };\n};\n\nexport const updateQuantity = ({ id, quantity }) => {\n  return {\n    type: UPDATE_QUANTITY,\n    payload: { id, quantity },\n  };\n};\n\n//checks if an item is already inside the cartItems state by matching the id\nexport const isItemInCart = () => {\n  alert(\"That item is already in cart\");\n  return {\n    type: CART_ITEM_CHECK,\n  };\n};\n\n// Todo: this action needs to make a request to the back end on the route api/user and the payload then needs to be the res.data from that request\nexport const registerUser = async (user) => {\n  const config = {\n    header: {\n      \"Content-Type\": \"application/json\",\n    },\n  };\n\n  try {\n    const res = await axios.post(\"/api/user\", user, config);\n\n    dispatch({\n      type: REGISTER_SUCCESS,\n      payload: res.data,\n    });\n  } catch (err) {\n    dispatch({\n      type: REGISTER_FAIL,\n      payload: err.response.data.msg,\n    });\n  }\n\n  return {\n    type: REGISTER_SUCCESS,\n    payload: user,\n  };\n};\n"]},"metadata":{},"sourceType":"module"}