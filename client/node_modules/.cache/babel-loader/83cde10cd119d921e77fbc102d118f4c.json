{"ast":null,"code":"import _toConsumableArray from\"/Users/adamwatt/Desktop/JavaScriptProjects/React-practice/e-commerce/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/Users/adamwatt/Desktop/JavaScriptProjects/React-practice/e-commerce/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _ from\"lodash\";import{ADD_CART_ITEM,REMOVE_CART_ITEM,UPDATE_QUANTITY,CART_ITEM_CHECK,CART_ERROR,LOAD_USER_CART,LOGOUT}from\"../types\";var initialState={cart:[],error:null};var cartItemReducer=function cartItemReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case ADD_CART_ITEM:return _objectSpread(_objectSpread({},state),{},{cart:[].concat(_toConsumableArray(state.cart),[action.payload])});case LOAD_USER_CART:return _objectSpread(_objectSpread({},state),{},{cart:action.payload});case REMOVE_CART_ITEM:return _objectSpread(_objectSpread({},state),{},{cart:state.cart.filter(function(item){return item.id!==action.payload;})});case CART_ITEM_CHECK:return state;case UPDATE_QUANTITY:var foundItem=_.find(state.cart,{id:action.payload.id});var updatedItem=_objectSpread(_objectSpread({},foundItem),{},{quantity:action.payload.quantity});var filteredState=state.cart.filter(function(item){return item.id!==action.payload.id;});return _objectSpread(_objectSpread({},state),{},{cart:[].concat(_toConsumableArray(filteredState),[updatedItem])});case CART_ERROR:return _objectSpread(_objectSpread({},state),{},{error:action.payload});case LOGOUT:return _objectSpread(_objectSpread({},state),{},{cart:[]});default:return state;}};export default cartItemReducer;","map":{"version":3,"sources":["/Users/adamwatt/Desktop/JavaScriptProjects/React-practice/e-commerce/client/src/reducers/cartItemReducer.js"],"names":["_","ADD_CART_ITEM","REMOVE_CART_ITEM","UPDATE_QUANTITY","CART_ITEM_CHECK","CART_ERROR","LOAD_USER_CART","LOGOUT","initialState","cart","error","cartItemReducer","state","action","type","payload","filter","item","id","foundItem","find","updatedItem","quantity","filteredState"],"mappings":"2YAAA,MAAOA,CAAAA,CAAP,KAAc,QAAd,CAEA,OACEC,aADF,CAEEC,gBAFF,CAGEC,eAHF,CAIEC,eAJF,CAKEC,UALF,CAMEC,cANF,CAOEC,MAPF,KAQO,UARP,CAUA,GAAMC,CAAAA,YAAY,CAAG,CACnBC,IAAI,CAAE,EADa,CAEnBC,KAAK,CAAE,IAFY,CAArB,CAKA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAkC,IAAjCC,CAAAA,KAAiC,2DAAzBJ,YAAyB,IAAXK,CAAAA,MAAW,2CACxD,OAAQA,MAAM,CAACC,IAAf,EACE,IAAKb,CAAAA,aAAL,CACE,sCACKW,KADL,MAEEH,IAAI,8BAAMG,KAAK,CAACH,IAAZ,GAAkBI,MAAM,CAACE,OAAzB,EAFN,GAIF,IAAKT,CAAAA,cAAL,CACE,sCACKM,KADL,MAEEH,IAAI,CAAEI,MAAM,CAACE,OAFf,GAIF,IAAKb,CAAAA,gBAAL,CACE,sCACKU,KADL,MAEEH,IAAI,CAAEG,KAAK,CAACH,IAAN,CAAWO,MAAX,CAAkB,SAACC,IAAD,QAAUA,CAAAA,IAAI,CAACC,EAAL,GAAYL,MAAM,CAACE,OAA7B,EAAlB,CAFR,GAIF,IAAKX,CAAAA,eAAL,CACE,MAAOQ,CAAAA,KAAP,CACF,IAAKT,CAAAA,eAAL,CACE,GAAMgB,CAAAA,SAAS,CAAGnB,CAAC,CAACoB,IAAF,CAAOR,KAAK,CAACH,IAAb,CAAmB,CAAES,EAAE,CAAEL,MAAM,CAACE,OAAP,CAAeG,EAArB,CAAnB,CAAlB,CACA,GAAMG,CAAAA,WAAW,gCAAQF,SAAR,MAAmBG,QAAQ,CAAET,MAAM,CAACE,OAAP,CAAeO,QAA5C,EAAjB,CACA,GAAMC,CAAAA,aAAa,CAAGX,KAAK,CAACH,IAAN,CAAWO,MAAX,CACpB,SAACC,IAAD,QAAUA,CAAAA,IAAI,CAACC,EAAL,GAAYL,MAAM,CAACE,OAAP,CAAeG,EAArC,EADoB,CAAtB,CAGA,sCACKN,KADL,MAEEH,IAAI,8BAAMc,aAAN,GAAqBF,WAArB,EAFN,GAIF,IAAKhB,CAAAA,UAAL,CACE,sCACKO,KADL,MAEEF,KAAK,CAAEG,MAAM,CAACE,OAFhB,GAIF,IAAKR,CAAAA,MAAL,CACE,sCACKK,KADL,MAEEH,IAAI,CAAE,EAFR,GAIF,QACE,MAAOG,CAAAA,KAAP,CAvCJ,CAyCD,CA1CD,CA4CA,cAAeD,CAAAA,eAAf","sourcesContent":["import _ from \"lodash\";\n\nimport {\n  ADD_CART_ITEM,\n  REMOVE_CART_ITEM,\n  UPDATE_QUANTITY,\n  CART_ITEM_CHECK,\n  CART_ERROR,\n  LOAD_USER_CART,\n  LOGOUT,\n} from \"../types\";\n\nconst initialState = {\n  cart: [],\n  error: null,\n};\n\nconst cartItemReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ADD_CART_ITEM:\n      return {\n        ...state,\n        cart: [...state.cart, action.payload],\n      };\n    case LOAD_USER_CART:\n      return {\n        ...state,\n        cart: action.payload,\n      };\n    case REMOVE_CART_ITEM:\n      return {\n        ...state,\n        cart: state.cart.filter((item) => item.id !== action.payload),\n      };\n    case CART_ITEM_CHECK:\n      return state;\n    case UPDATE_QUANTITY:\n      const foundItem = _.find(state.cart, { id: action.payload.id });\n      const updatedItem = { ...foundItem, quantity: action.payload.quantity };\n      const filteredState = state.cart.filter(\n        (item) => item.id !== action.payload.id\n      );\n      return {\n        ...state,\n        cart: [...filteredState, updatedItem],\n      };\n    case CART_ERROR:\n      return {\n        ...state,\n        error: action.payload,\n      };\n    case LOGOUT:\n      return {\n        ...state,\n        cart: [],\n      };\n    default:\n      return state;\n  }\n};\n\nexport default cartItemReducer;\n"]},"metadata":{},"sourceType":"module"}