{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/adamwatt/Desktop/JavaScriptProjects/React-practice/e-commerce/client/src/components/shoppingCart/ShoppingCartCard.js\";\nimport React, { createRef, Fragment } from \"react\";\nimport { connect } from \"react-redux\";\nimport { removeProductFromCart, updateQuantity } from \"../../actions\"; // eslint-disable-next-line\n\nimport css from \"../../css/shoppingCartCard.css\";\n\nconst ShoppingCartCard = props => {\n  const {\n    cartItems,\n    removeProductFromCart,\n    updateQuantity\n  } = props;\n  const priceOfItems = [null];\n  cartItems.forEach(item => {\n    const totalEach = item.price * item.quantity;\n    priceOfItems.push(totalEach);\n  });\n\n  const reducer = (accumulator, currentValue) => accumulator + currentValue;\n\n  const totalOfCart = priceOfItems.reduce(reducer);\n\n  function decimalAdjust(type, value, exp) {\n    // If the exp is undefined or zero...\n    if (typeof exp === \"undefined\" || +exp === 0) {\n      return Math[type](value);\n    }\n\n    value = +value;\n    exp = +exp; // If the value is not a number or the exp is not an integer...\n\n    if (isNaN(value) || !(typeof exp === \"number\" && exp % 1 === 0)) {\n      return NaN;\n    } // Shift\n\n\n    value = value.toString().split(\"e\");\n    value = Math[type](+(value[0] + \"e\" + (value[1] ? +value[1] - exp : -exp))); // Shift back\n\n    value = value.toString().split(\"e\");\n    return +(value[0] + \"e\" + (value[1] ? +value[1] + exp : exp));\n  } // Decimal round\n\n\n  const round10 = (value, exp) => decimalAdjust(\"round\", value, exp);\n\n  const grandTotal = round10(totalOfCart, -2); // this creates an array of all the refs and stores them to an array for each item in cartItems\n\n  const refs = Array.from(cartItems, () => /*#__PURE__*/createRef(null)); // this handler loops through the refs and checks that they match the delete button's data-key and removes the item from the dom and cartItems\n\n  const deleteFromCart = e => {\n    refs.forEach(ref => {\n      if (ref.current.getAttribute(\"value\") === e.target.getAttribute(\"data-key\")) {\n        removeProductFromCart(ref.current.getAttribute(\"value\"));\n      }\n    });\n  };\n\n  const renderOptions = cartItemQuantity => {\n    const options = [];\n\n    for (let i = 1; i <= 20; i++) {\n      options.push( /*#__PURE__*/_jsxDEV(\"option\", {\n        value: i,\n        children: [\"Quantity: \", i]\n      }, [i], true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this));\n    }\n\n    return options;\n  };\n\n  const onChange = e => {\n    refs.forEach(ref => {\n      if (ref.current.getAttribute(\"value\") === e.target.getAttribute(\"data-key\")) {\n        updateQuantity({\n          id: +ref.current.getAttribute(\"value\"),\n          quantity: +e.target.value\n        });\n      }\n    });\n  };\n\n  const renderItems = () => {\n    return cartItems.map((cartItem, i) => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: refs[i],\n        value: cartItem.id,\n        className: \"cart-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"cart-card__img\",\n          src: cartItem.image,\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cart-card__body\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            className: \"cart-card__title\",\n            children: cartItem.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"cart-cart__price--font-color\",\n            children: [\"$\", cartItem.price]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cart-card__button-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"form\", {\n              children: /*#__PURE__*/_jsxDEV(\"select\", {\n                onChange: e => onChange(e),\n                defaultValue: cartItem.quantity,\n                \"data-key\": cartItem.id,\n                name: \"Quantity\",\n                children: renderOptions(cartItem.quantity)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                color: \"black\"\n              },\n              onClick: deleteFromCart,\n              \"data-key\": cartItem.id,\n              className: \"btn\",\n              children: \"Delete From Cart\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this)]\n      }, cartItem.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"shopping-cart-card-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Shopping Cart\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this), renderItems(), grandTotal === 0 ? \"\" : /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"ml-a\",\n        children: [\"Subtotal: $\", grandTotal]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 129,\n    columnNumber: 5\n  }, this);\n};\n\n_c = ShoppingCartCard;\n\nconst mapStateToProps = state => {\n  return {\n    cartItems: state.cartItems\n  };\n};\n\nexport default connect(mapStateToProps, {\n  removeProductFromCart,\n  updateQuantity\n})(ShoppingCartCard);\n\nvar _c;\n\n$RefreshReg$(_c, \"ShoppingCartCard\");","map":{"version":3,"sources":["/Users/adamwatt/Desktop/JavaScriptProjects/React-practice/e-commerce/client/src/components/shoppingCart/ShoppingCartCard.js"],"names":["React","createRef","Fragment","connect","removeProductFromCart","updateQuantity","css","ShoppingCartCard","props","cartItems","priceOfItems","forEach","item","totalEach","price","quantity","push","reducer","accumulator","currentValue","totalOfCart","reduce","decimalAdjust","type","value","exp","Math","isNaN","NaN","toString","split","round10","grandTotal","refs","Array","from","deleteFromCart","e","ref","current","getAttribute","target","renderOptions","cartItemQuantity","options","i","onChange","id","renderItems","map","cartItem","image","title","color","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React, { createRef, Fragment } from \"react\";\nimport { connect } from \"react-redux\";\nimport { removeProductFromCart, updateQuantity } from \"../../actions\";\n\n// eslint-disable-next-line\nimport css from \"../../css/shoppingCartCard.css\";\n\nconst ShoppingCartCard = (props) => {\n  const { cartItems, removeProductFromCart, updateQuantity } = props;\n\n  const priceOfItems = [null];\n\n  cartItems.forEach((item) => {\n    const totalEach = item.price * item.quantity;\n    priceOfItems.push(totalEach);\n  });\n\n  const reducer = (accumulator, currentValue) => accumulator + currentValue;\n\n  const totalOfCart = priceOfItems.reduce(reducer);\n\n  function decimalAdjust(type, value, exp) {\n    // If the exp is undefined or zero...\n    if (typeof exp === \"undefined\" || +exp === 0) {\n      return Math[type](value);\n    }\n    value = +value;\n    exp = +exp;\n    // If the value is not a number or the exp is not an integer...\n    if (isNaN(value) || !(typeof exp === \"number\" && exp % 1 === 0)) {\n      return NaN;\n    }\n    // Shift\n    value = value.toString().split(\"e\");\n    value = Math[type](+(value[0] + \"e\" + (value[1] ? +value[1] - exp : -exp)));\n    // Shift back\n    value = value.toString().split(\"e\");\n    return +(value[0] + \"e\" + (value[1] ? +value[1] + exp : exp));\n  }\n\n  // Decimal round\n  const round10 = (value, exp) => decimalAdjust(\"round\", value, exp);\n\n  const grandTotal = round10(totalOfCart, -2);\n\n  // this creates an array of all the refs and stores them to an array for each item in cartItems\n  const refs = Array.from(cartItems, () => createRef(null));\n\n  // this handler loops through the refs and checks that they match the delete button's data-key and removes the item from the dom and cartItems\n  const deleteFromCart = (e) => {\n    refs.forEach((ref) => {\n      if (\n        ref.current.getAttribute(\"value\") === e.target.getAttribute(\"data-key\")\n      ) {\n        removeProductFromCart(ref.current.getAttribute(\"value\"));\n      }\n    });\n  };\n\n  const renderOptions = (cartItemQuantity) => {\n    const options = [];\n\n    for (let i = 1; i <= 20; i++) {\n      options.push(\n        <option value={i} key={[i]}>\n          Quantity: {i}\n        </option>\n      );\n    }\n    return options;\n  };\n\n  const onChange = (e) => {\n    refs.forEach((ref) => {\n      if (\n        ref.current.getAttribute(\"value\") === e.target.getAttribute(\"data-key\")\n      ) {\n        updateQuantity({\n          id: +ref.current.getAttribute(\"value\"),\n          quantity: +e.target.value,\n        });\n      }\n    });\n  };\n\n  const renderItems = () => {\n    return cartItems.map((cartItem, i) => {\n      return (\n        <div\n          ref={refs[i]}\n          key={cartItem.id}\n          value={cartItem.id}\n          className='cart-card'>\n          <img className='cart-card__img' src={cartItem.image} alt='' />\n          <div className='cart-card__body'>\n            <h5 className='cart-card__title'>{cartItem.title}</h5>\n            <p className='cart-cart__price--font-color'>${cartItem.price}</p>\n            <div className='cart-card__button-group'>\n              <form>\n                <select\n                  onChange={(e) => onChange(e)}\n                  defaultValue={cartItem.quantity}\n                  data-key={cartItem.id}\n                  name='Quantity'>\n                  {renderOptions(cartItem.quantity)}\n                </select>\n              </form>\n              {/* <button\n                onClick={deleteFromCart}\n                data-key={cartItem.id}\n                className='btn btn--delete'>\n                Delete From Cart\n              </button> */}\n              <span\n                style={{ color: \"black\" }}\n                onClick={deleteFromCart}\n                data-key={cartItem.id}\n                className='btn'>\n                Delete From Cart\n              </span>\n            </div>\n          </div>\n        </div>\n      );\n    });\n  };\n\n  return (\n    <Fragment>\n      <div className='shopping-cart-card-container'>\n        <h1>Shopping Cart</h1>\n        {renderItems()}\n        {grandTotal === 0 ? (\n          \"\"\n        ) : (\n          <h1 className='ml-a'>Subtotal: ${grandTotal}</h1>\n        )}\n      </div>\n    </Fragment>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    cartItems: state.cartItems,\n  };\n};\n\nexport default connect(mapStateToProps, {\n  removeProductFromCart,\n  updateQuantity,\n})(ShoppingCartCard);\n"]},"metadata":{},"sourceType":"module"}