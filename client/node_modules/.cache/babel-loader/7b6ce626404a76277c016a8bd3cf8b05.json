{"ast":null,"code":"import _ from \"lodash\";\nimport { ADD_CART_ITEM, REMOVE_CART_ITEM, UPDATE_QUANTITY, CART_ITEM_CHECK, CART_ERROR, LOAD_USER_CART, LOGOUT } from \"../types\";\nconst initialState = {\n  cart: [],\n  error: null\n}; // const cartItemReducer = (state = [], action) => {\n//   switch (action.type) {\n//     case ADD_CART_ITEM:\n//       return [...state, action.payload];\n//     case LOAD_USER_CART:\n//       return action.payload;\n//     case REMOVE_CART_ITEM:\n//       return state.filter((item) => item._id !== action.payload);\n//     case CART_ITEM_CHECK:\n//       return state;\n//     case UPDATE_QUANTITY:\n//       const foundItem = _.find(state, { id: action.payload.id });\n//       const updatedItem = { ...foundItem, quantity: action.payload.quantity };\n//       const filteredState = state.filter(\n//         (item) => item.id !== action.payload.id\n//       );\n//       return [...filteredState, updatedItem];\n//     case CART_ERROR:\n//       return {\n//         ...state,\n//         error: action.payload,\n//       };\n//     case LOGOUT:\n//       return (state = []);\n//     default:\n//       return state;\n//   }\n// };\n\nconst cartItemReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ADD_CART_ITEM:\n      return { ...state,\n        cart: [...state.cart, action.payload]\n      };\n\n    case LOAD_USER_CART:\n      return { ...state,\n        cart: action.payload\n      };\n\n    case REMOVE_CART_ITEM:\n      return { ...state,\n        cart: state.cart.filter(item => item._id !== action.payload)\n      };\n\n    case CART_ITEM_CHECK:\n      return state;\n\n    case UPDATE_QUANTITY:\n      const foundItem = _.find(state.cart, {\n        id: action.payload.id\n      });\n\n      const updatedItem = { ...foundItem,\n        quantity: action.payload.quantity\n      };\n      const filteredState = state.cart.filter(item => item.id !== action.payload.id);\n      return { ...state,\n        cart: [...filteredState, updatedItem]\n      };\n\n    case CART_ERROR:\n      return { ...state,\n        error: action.payload\n      };\n\n    case LOGOUT:\n      return state = [];\n\n    default:\n      return state;\n  }\n};\n\nexport default cartItemReducer;","map":{"version":3,"sources":["/Users/adamwatt/Desktop/JavaScriptProjects/React-practice/e-commerce/client/src/reducers/cartItemReducer.js"],"names":["_","ADD_CART_ITEM","REMOVE_CART_ITEM","UPDATE_QUANTITY","CART_ITEM_CHECK","CART_ERROR","LOAD_USER_CART","LOGOUT","initialState","cart","error","cartItemReducer","state","action","type","payload","filter","item","_id","foundItem","find","id","updatedItem","quantity","filteredState"],"mappings":"AAAA,OAAOA,CAAP,MAAc,QAAd;AAEA,SACEC,aADF,EAEEC,gBAFF,EAGEC,eAHF,EAIEC,eAJF,EAKEC,UALF,EAMEC,cANF,EAOEC,MAPF,QAQO,UARP;AAUA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,IAAI,EAAE,EADa;AAEnBC,EAAAA,KAAK,EAAE;AAFY,CAArB,C,CAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAMC,eAAe,GAAG,CAACC,KAAK,GAAGJ,YAAT,EAAuBK,MAAvB,KAAkC;AACxD,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKb,aAAL;AACE,aAAO,EACL,GAAGW,KADE;AAELH,QAAAA,IAAI,EAAE,CAAC,GAAGG,KAAK,CAACH,IAAV,EAAgBI,MAAM,CAACE,OAAvB;AAFD,OAAP;;AAIF,SAAKT,cAAL;AACE,aAAO,EACL,GAAGM,KADE;AAELH,QAAAA,IAAI,EAAEI,MAAM,CAACE;AAFR,OAAP;;AAIF,SAAKb,gBAAL;AACE,aAAO,EACL,GAAGU,KADE;AAELH,QAAAA,IAAI,EAAEG,KAAK,CAACH,IAAN,CAAWO,MAAX,CAAmBC,IAAD,IAAUA,IAAI,CAACC,GAAL,KAAaL,MAAM,CAACE,OAAhD;AAFD,OAAP;;AAIF,SAAKX,eAAL;AACE,aAAOQ,KAAP;;AACF,SAAKT,eAAL;AACE,YAAMgB,SAAS,GAAGnB,CAAC,CAACoB,IAAF,CAAOR,KAAK,CAACH,IAAb,EAAmB;AAAEY,QAAAA,EAAE,EAAER,MAAM,CAACE,OAAP,CAAeM;AAArB,OAAnB,CAAlB;;AACA,YAAMC,WAAW,GAAG,EAAE,GAAGH,SAAL;AAAgBI,QAAAA,QAAQ,EAAEV,MAAM,CAACE,OAAP,CAAeQ;AAAzC,OAApB;AACA,YAAMC,aAAa,GAAGZ,KAAK,CAACH,IAAN,CAAWO,MAAX,CACnBC,IAAD,IAAUA,IAAI,CAACI,EAAL,KAAYR,MAAM,CAACE,OAAP,CAAeM,EADjB,CAAtB;AAGA,aAAO,EACL,GAAGT,KADE;AAELH,QAAAA,IAAI,EAAE,CAAC,GAAGe,aAAJ,EAAmBF,WAAnB;AAFD,OAAP;;AAIF,SAAKjB,UAAL;AACE,aAAO,EACL,GAAGO,KADE;AAELF,QAAAA,KAAK,EAAEG,MAAM,CAACE;AAFT,OAAP;;AAIF,SAAKR,MAAL;AACE,aAAQK,KAAK,GAAG,EAAhB;;AACF;AACE,aAAOA,KAAP;AApCJ;AAsCD,CAvCD;;AAyCA,eAAeD,eAAf","sourcesContent":["import _ from \"lodash\";\n\nimport {\n  ADD_CART_ITEM,\n  REMOVE_CART_ITEM,\n  UPDATE_QUANTITY,\n  CART_ITEM_CHECK,\n  CART_ERROR,\n  LOAD_USER_CART,\n  LOGOUT,\n} from \"../types\";\n\nconst initialState = {\n  cart: [],\n  error: null,\n};\n\n// const cartItemReducer = (state = [], action) => {\n//   switch (action.type) {\n//     case ADD_CART_ITEM:\n//       return [...state, action.payload];\n//     case LOAD_USER_CART:\n//       return action.payload;\n//     case REMOVE_CART_ITEM:\n//       return state.filter((item) => item._id !== action.payload);\n//     case CART_ITEM_CHECK:\n//       return state;\n//     case UPDATE_QUANTITY:\n//       const foundItem = _.find(state, { id: action.payload.id });\n//       const updatedItem = { ...foundItem, quantity: action.payload.quantity };\n//       const filteredState = state.filter(\n//         (item) => item.id !== action.payload.id\n//       );\n//       return [...filteredState, updatedItem];\n//     case CART_ERROR:\n//       return {\n//         ...state,\n//         error: action.payload,\n//       };\n//     case LOGOUT:\n//       return (state = []);\n//     default:\n//       return state;\n//   }\n// };\n\nconst cartItemReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ADD_CART_ITEM:\n      return {\n        ...state,\n        cart: [...state.cart, action.payload],\n      };\n    case LOAD_USER_CART:\n      return {\n        ...state,\n        cart: action.payload,\n      };\n    case REMOVE_CART_ITEM:\n      return {\n        ...state,\n        cart: state.cart.filter((item) => item._id !== action.payload),\n      };\n    case CART_ITEM_CHECK:\n      return state;\n    case UPDATE_QUANTITY:\n      const foundItem = _.find(state.cart, { id: action.payload.id });\n      const updatedItem = { ...foundItem, quantity: action.payload.quantity };\n      const filteredState = state.cart.filter(\n        (item) => item.id !== action.payload.id\n      );\n      return {\n        ...state,\n        cart: [...filteredState, updatedItem],\n      };\n    case CART_ERROR:\n      return {\n        ...state,\n        error: action.payload,\n      };\n    case LOGOUT:\n      return (state = []);\n    default:\n      return state;\n  }\n};\n\nexport default cartItemReducer;\n"]},"metadata":{},"sourceType":"module"}